<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="subCarton" pageWidth="552" pageHeight="792" whenNoDataType="AllSectionsNoDetail" columnWidth="552" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="96e70c4b-2861-4ffc-8710-2a86a1545ce9">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<style name="9" fontName="Open Sans" fontSize="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="10" isDefault="true" fontName="Open Sans" fontSize="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="12" fontName="Open Sans" fontSize="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="14" fontName="Open Sans" fontSize="14" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="10b" fontName="Open Sans" fontSize="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="12b" fontName="Open Sans" fontSize="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="14b" fontName="Open Sans" fontSize="14" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="16b" fontName="Open Sans" fontSize="16" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="18b" fontName="Open Sans" fontSize="18" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="24b" fontName="Open Sans" fontSize="24" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="10i" fontName="Open Sans" fontSize="10" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="12i" fontName="Open Sans" fontSize="12" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="10bu" fontName="Open Sans" fontSize="10" isBold="true" isItalic="false" isUnderline="true" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="header1" fontName="Open Sans" fontSize="24" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="header2" fontName="Open Sans" fontSize="18" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="header3" fontName="Open Sans" fontSize="16" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="addressHeader" fontName="Open Sans" fontSize="14" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="date" fontName="Open Sans" fontSize="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="type" fontName="Open Sans" fontSize="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="address" fontName="Open Sans" fontSize="10" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="column_head" fontName="Open Sans" fontSize="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="body" isDefault="true" fontName="Open Sans" fontSize="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="note" isDefault="true" fontName="Open Sans" fontSize="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="Zebra" fontName="Open Sans">
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{PAGE_COUNT}.intValue() % 2 == 0]]></conditionExpression>
			<style mode="Opaque" backcolor="#EAEAEA" pattern="" fontName="Open Sans"/>
		</conditionalStyle>
	</style>
	<parameter name="ISSUBREPORTONLY" class="java.lang.String" isForPrompting="false"/>
	<parameter name="ShipID" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["14"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
    SHIPCARTON.ID AS SHIPCARTONID,
    SHIPCARTON.CARTONNUM AS CARTONNUM,
    SHIPCARTON.TRACKINGNUM AS TRACKINGNUMBER,
    SHIPCARTON.FREIGHTWEIGHT AS WEIGHT,
    CARRIER.NAME AS CARRIERNAME,
    COALESCE(WEIGHTUOM.CODE, 'lbs') AS WEIGHTUOMCODE

FROM
    shipcarton
    INNER JOIN carrier ON shipcarton.carrierid = carrier.id
    LEFT OUTER JOIN sysProperties ON sysProperties.sysKey = 'Default Weight UomId'
    LEFT OUTER JOIN uom weightUom ON sysProperties.sysValue = weightUom.id

WHERE shipcarton.shipid = $P{ShipID}

ORDER BY shipcarton.cartonnum]]>
	</queryString>
	<field name="SHIPCARTONID" class="java.lang.Integer"/>
	<field name="CARTONNUM" class="java.lang.Integer"/>
	<field name="TRACKINGNUMBER" class="java.lang.String"/>
	<field name="WEIGHT" class="java.lang.Double"/>
	<field name="CARRIERNAME" class="java.lang.String"/>
	<field name="WEIGHTUOMCODE" class="java.lang.String"/>
	<variable name="totalWeight" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{WEIGHT}]]></variableExpression>
	</variable>
	<variable name="totalCount" class="java.lang.Integer" calculation="Count">
		<variableExpression><![CDATA[$F{SHIPCARTONID}]]></variableExpression>
	</variable>
	<variable name="PriceDecimal" class="java.lang.String" resetType="None">
		<variableExpression><![CDATA[System.getProperty("REPORT_DECIMAL_PRICE")]]></variableExpression>
	</variable>
	<variable name="QtyDecimal" class="java.lang.String" resetType="None">
		<variableExpression><![CDATA[System.getProperty("REPORT_DECIMAL_QTY")]]></variableExpression>
	</variable>
	<variable name="CostDecimal" class="java.lang.String" resetType="None">
		<variableExpression><![CDATA[System.getProperty("REPORT_DECIMAL_COST")]]></variableExpression>
	</variable>
	<title>
		<band height="17">
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-7" style="10b" mode="Transparent" x="0" y="0" width="552" height="17" forecolor="#000000" backcolor="#FFFFFF" uuid="56c0ed95-ccfa-4596-bdae-bce51ea2884b"/>
				<box leftPadding="3"/>
				<textElement verticalAlignment="Top" rotation="None">
					<font fontName="Open Sans" size="12" isBold="true" isUnderline="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[System.getProperty("DefaultContainer", "Carton") + " Info"]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<columnHeader>
		<band height="14" splitType="Prevent">
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-7" style="10b" mode="Opaque" x="0" y="0" width="184" height="14" forecolor="#000000" backcolor="#EAEAEA" uuid="ca821387-6cc3-4c2a-86b0-8629d5a21592"/>
				<box leftPadding="3">
					<leftPen lineWidth="1.0" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Open Sans" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[System.getProperty("DefaultContainer", "Carton") + " #"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-12" style="10b" mode="Opaque" x="368" y="0" width="184" height="14" forecolor="#000000" backcolor="#EAEAEA" uuid="1326f497-cff3-4003-ab2c-79801bede21f"/>
				<box leftPadding="0" rightPadding="3">
					<leftPen lineWidth="1.0" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Open Sans" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["Tracking #"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement mode="Opaque" x="184" y="0" width="184" height="14" backcolor="#EAEAEA" uuid="2e6abac9-44f2-4593-b60a-ca0b5bfa3643"/>
				<box leftPadding="3">
					<leftPen lineWidth="1.0" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement verticalAlignment="Bottom">
					<font fontName="Open Sans" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Weight]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="15" splitType="Prevent">
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true" hyperlinkType="Reference">
				<reportElement key="USPS" style="Zebra" mode="Opaque" x="368" y="1" width="184" height="14" forecolor="#000099" backcolor="#FFFFFF" uuid="1de3f74b-4b16-491c-96ea-f66df1636b43">
					<printWhenExpression><![CDATA[$F{TRACKINGNUMBER}.trim().length() > 0 && $F{CARRIERNAME}.contains("USPS")]]></printWhenExpression>
				</reportElement>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Open Sans" size="10" isUnderline="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[(($F{TRACKINGNUMBER}.trim().length() > 0) ? $F{TRACKINGNUMBER} : "")]]></textFieldExpression>
				<anchorNameExpression><![CDATA["http://trkcnfrm1.smi.usps.com/PTSInternetWeb/InterLabelInquiry.do?strOrigTrackNum=" + $F{TRACKINGNUMBER}]]></anchorNameExpression>
				<hyperlinkReferenceExpression><![CDATA["http://trkcnfrm1.smi.usps.com/PTSInternetWeb/InterLabelInquiry.do?strOrigTrackNum=" + $F{TRACKINGNUMBER}]]></hyperlinkReferenceExpression>
				<hyperlinkTooltipExpression><![CDATA["Track My " + System.getProperty("DefaultContainer", "Carton")]]></hyperlinkTooltipExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true" hyperlinkType="Reference">
				<reportElement key="UPS" mode="Transparent" x="368" y="1" width="184" height="14" forecolor="#000099" backcolor="#FFFFFF" uuid="abf7cf8a-f76f-4cc3-a87c-162ab77aba62">
					<printWhenExpression><![CDATA[$F{TRACKINGNUMBER}.trim().length() > 0 && $F{CARRIERNAME}.contains("UPS")]]></printWhenExpression>
				</reportElement>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Open Sans" size="10" isUnderline="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[(($F{TRACKINGNUMBER}.trim().length() > 0) ? $F{TRACKINGNUMBER} : "")]]></textFieldExpression>
				<anchorNameExpression><![CDATA["http://wwwapps.ups.com/WebTracking/processInputRequest?HTMLVersion=5.0&tracknums_displayed=1&TypeOfInquiryNumber=T&loc=en_US&InquiryNumber1=" + $F{TRACKINGNUMBER} + "&track.x=Track"]]></anchorNameExpression>
				<hyperlinkReferenceExpression><![CDATA["http://wwwapps.ups.com/WebTracking/processInputRequest?HTMLVersion=5.0&tracknums_displayed=1&TypeOfInquiryNumber=T&loc=en_US&InquiryNumber1=" + $F{TRACKINGNUMBER} + "&track.x=Track"]]></hyperlinkReferenceExpression>
				<hyperlinkTooltipExpression><![CDATA["Track My " + System.getProperty("DefaultContainer", "Carton")]]></hyperlinkTooltipExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true" hyperlinkType="Reference">
				<reportElement key="FedEx" mode="Transparent" x="368" y="1" width="184" height="14" forecolor="#000099" backcolor="#FFFFFF" uuid="86ecf517-8653-4e2a-8386-1fd52d1ffe48">
					<printWhenExpression><![CDATA[$F{TRACKINGNUMBER}.trim().length() > 0 && $F{CARRIERNAME}.contains("Fed")]]></printWhenExpression>
				</reportElement>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Open Sans" size="10" isUnderline="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[(($F{TRACKINGNUMBER}.trim().length() > 0) ? $F{TRACKINGNUMBER} : "")]]></textFieldExpression>
				<anchorNameExpression><![CDATA["http://www.fedex.com/Tracking?cntry_code=us&action=track&tracknumber_list=" + $F{TRACKINGNUMBER}]]></anchorNameExpression>
				<hyperlinkReferenceExpression><![CDATA["http://www.fedex.com/Tracking?cntry_code=us&action=track&tracknumber_list=" + $F{TRACKINGNUMBER}]]></hyperlinkReferenceExpression>
				<hyperlinkTooltipExpression><![CDATA["Track My " + System.getProperty("DefaultContainer", "Carton")]]></hyperlinkTooltipExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-1" stretchType="RelativeToTallestObject" mode="Transparent" x="0" y="1" width="184" height="14" forecolor="#000000" backcolor="#FFFFFF" uuid="2f3e29a2-3270-4971-8655-ceed6930a5e2"/>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Open Sans" size="10"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CARTONNUM}.toString()]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.#####" isBlankWhenNull="true">
				<reportElement key="textField-8" mode="Transparent" x="184" y="1" width="184" height="14" forecolor="#000000" backcolor="#FFFFFF" uuid="ed224f64-c898-4018-bb60-15a4a690a01e"/>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Top" rotation="None">
					<font fontName="Open Sans" size="10"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[new Boolean($V{totalWeight}.doubleValue() > 0) ? ($F{WEIGHT} + " " + $F{WEIGHTUOMCODE}) : ""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true" hyperlinkType="Reference">
				<reportElement key="FedEx" mode="Transparent" x="368" y="1" width="184" height="14" forecolor="#000000" backcolor="#FFFFFF" uuid="c7e7192e-8f0f-45f9-9738-f3cbdc4f281f">
					<printWhenExpression><![CDATA[$F{TRACKINGNUMBER}.trim().length() > 0
&& !$F{CARRIERNAME}.contains("Fed")
&& !$F{CARRIERNAME}.contains("USPS")
&& !$F{CARRIERNAME}.contains("UPS")]]></printWhenExpression>
				</reportElement>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Open Sans" size="10" isUnderline="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[(($F{TRACKINGNUMBER}.trim().length() > 0) ? $F{TRACKINGNUMBER} : "")]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="14">
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-11" mode="Transparent" x="184" y="0" width="184" height="14" forecolor="#000000" backcolor="#FFFFFF" uuid="71c1ebb2-7805-45f1-931e-fccf87169143">
					<printWhenExpression><![CDATA[new Boolean($V{totalWeight}.doubleValue() > 0)]]></printWhenExpression>
				</reportElement>
				<box leftPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle" rotation="None">
					<font fontName="Open Sans" size="10" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{totalWeight} + " " + $F{WEIGHTUOMCODE}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="0" width="184" height="14" uuid="efa1d886-9192-4d54-a06a-d9cb79e16fdb"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Open Sans" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Total Weight:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" evaluationTime="Report" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-9" mode="Transparent" x="368" y="0" width="184" height="14" forecolor="#000000" backcolor="#FFFFFF" uuid="e02d2eff-bf48-4cae-8ef6-ba1d355c969a"/>
				<box rightPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Open Sans" size="10" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[System.getProperty("DefaultContainer", "Carton") + " " + "Count: " + $V{totalCount}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
