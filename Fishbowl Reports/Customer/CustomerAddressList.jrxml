<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="CustomerAddressList" columnCount="3" pageWidth="612" pageHeight="792" whenNoDataType="AllSectionsNoDetail" columnWidth="184" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" uuid="4bb82a15-1dcd-40a1-b766-839f1fbef9fe">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<style name="9" fontName="Open Sans" fontSize="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="10" isDefault="true" fontName="Open Sans" fontSize="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="12" fontName="Open Sans" fontSize="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="14" fontName="Open Sans" fontSize="14" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="10b" fontName="Open Sans" fontSize="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="12b" fontName="Open Sans" fontSize="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="14b" fontName="Open Sans" fontSize="14" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="16b" fontName="Open Sans" fontSize="16" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="18b" fontName="Open Sans" fontSize="18" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="24b" fontName="Open Sans" fontSize="24" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="10i" fontName="Open Sans" fontSize="10" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="12i" fontName="Open Sans" fontSize="12" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="10bu" fontName="Open Sans" fontSize="10" isBold="true" isItalic="false" isUnderline="true" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="header1" fontName="Open Sans" fontSize="24" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="header2" fontName="Open Sans" fontSize="18" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="header3" fontName="Open Sans" fontSize="16" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="addressHeader" fontName="Open Sans" fontSize="14" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="date" fontName="Open Sans" fontSize="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="type" fontName="Open Sans" fontSize="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="address" fontName="Open Sans" fontSize="10" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="column_head" fontName="Open Sans" fontSize="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="body" isDefault="true" fontName="Open Sans" fontSize="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="note" isDefault="true" fontName="Open Sans" fontSize="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<parameter name="path" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["../Customer/"]]></defaultValueExpression>
	</parameter>
	<parameter name="module" class="java.lang.Object" isForPrompting="false">
		<defaultValueExpression><![CDATA[null]]></defaultValueExpression>
	</parameter>
	<parameter name="REPORTDESCRIPTION" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["Address List"]]></defaultValueExpression>
	</parameter>
	<parameter name="cbAddressType" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[%, All, Main Office, Main Office, Home, Home, Remit To, Remit To, Bill To, Bill To, Ship To, Ship To]]></parameterDescription>
		<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
	</parameter>
	<parameter name="State" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
	</parameter>
	<parameter name="cbContactType" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[Home,Home,Work,Work,Mobile,Mobile,Fax,Fax,Main,Main,Email,Email,Pager,Pager,Other,Other,Web,Web]]></parameterDescription>
		<defaultValueExpression><![CDATA["Main"]]></defaultValueExpression>
	</parameter>
	<parameter name="ZipCode" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
	</parameter>
	<parameter name="customerGroupID" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
	</parameter>
	<parameter name="ckShowCountry" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[1,0]]></parameterDescription>
		<defaultValueExpression><![CDATA["0"]]></defaultValueExpression>
	</parameter>
	<parameter name="ckShowGroups" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[1,0]]></parameterDescription>
		<defaultValueExpression><![CDATA["0"]]></defaultValueExpression>
	</parameter>
	<parameter name="ckShowInactive" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[0,100]]></parameterDescription>
		<defaultValueExpression><![CDATA["100"]]></defaultValueExpression>
	</parameter>
	<parameter name="ckShowActive" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[1,100]]></parameterDescription>
		<defaultValueExpression><![CDATA["1"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT UPPER(SUBSTRING(address.name FROM 1 FOR 1)) AS firstltr, address.accountid,
    address.name, address.address, address.city,
    address.zip, COALESCE(stateconst.code,'') AS stateabbr,
    stateconst.name AS statename, COALESCE(countryconst.abbreviation,'') AS countryabbr,
    countryconst.name AS countryname, addresstype.name AS addresstype,
    accountGroup.name AS customergroupname, customer.parentid,
    company.name AS company, customer.name AS customername

FROM address
    JOIN customer ON customer.accountid = address.accountid
    LEFT JOIN addresstype ON addresstype.id = address.typeid
    LEFT JOIN countryconst ON countryconst.id = address.countryid
    LEFT JOIN stateconst ON stateconst.id = address.stateid
    LEFT JOIN accountgrouprelation ON address.accountid = accountgrouprelation.accountid
    LEFT JOIN accountgroup ON (accountgroup.id = accountgrouprelation.groupid)
    JOIN company ON company.id = 1

WHERE UPPER((COALESCE(stateconst.code,''))) LIKE UPPER($P{State})
  AND (COALESCE(accountgroup.id,0) IN ($P!{customerGroupID}))
  AND UPPER((COALESCE(address.zip,''))) LIKE UPPER($P{ZipCode})
  AND UPPER((COALESCE(addresstype.name,''))) LIKE UPPER($P{cbAddressType})
  AND customer.activeflag IN ($P{ckShowActive}, $P{ckShowInactive})

ORDER BY (CASE WHEN $P!{ckShowGroups} = 1 THEN accountgroup.name ELSE 1 END), 1, UPPER(address.name)]]>
	</queryString>
	<field name="FIRSTLTR" class="java.lang.String"/>
	<field name="ACCOUNTID" class="java.lang.Integer"/>
	<field name="NAME" class="java.lang.String"/>
	<field name="ADDRESS" class="java.lang.String"/>
	<field name="CITY" class="java.lang.String"/>
	<field name="ZIP" class="java.lang.String"/>
	<field name="STATEABBR" class="java.lang.String"/>
	<field name="STATENAME" class="java.lang.String"/>
	<field name="COUNTRYABBR" class="java.lang.String"/>
	<field name="COUNTRYNAME" class="java.lang.String"/>
	<field name="ADDRESSTYPE" class="java.lang.String"/>
	<field name="CUSTOMERGROUPNAME" class="java.lang.String"/>
	<field name="PARENTID" class="java.lang.Integer"/>
	<field name="COMPANY" class="java.lang.String"/>
	<field name="CUSTOMERNAME" class="java.lang.String"/>
	<group name="CustomerGroup">
		<groupExpression><![CDATA[$P{ckShowGroups}.equals("1") ?
    $F{CUSTOMERGROUPNAME} :
    $F{FIRSTLTR}]]></groupExpression>
		<groupHeader>
			<band height="18" splitType="Stretch">
				<printWhenExpression><![CDATA[$P{ckShowGroups}.equals("1") ?
    ($P{customerGroupID}.equals("%") ?
        new Boolean(true) :
        ($F{CUSTOMERGROUPNAME} == null) ?
            new Boolean(false) :
            new Boolean(true)) :
    new Boolean(false)]]></printWhenExpression>
				<textField pattern="" isBlankWhenNull="true">
					<reportElement key="textField" mode="Transparent" x="0" y="0" width="169" height="18" forecolor="#000000" backcolor="#FFFFFF" uuid="eceef9f1-fbdc-4fdd-a7a1-2ee3da20af41"/>
					<box leftPadding="3">
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
						<font fontName="Open Sans" size="13" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
						<paragraph lineSpacing="Single"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{CUSTOMERGROUPNAME}==null) ? new String("No Group") : $F{CUSTOMERGROUPNAME}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band splitType="Stretch"/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Prevent"/>
	</title>
	<pageHeader>
		<band height="64" splitType="Prevent">
			<staticText>
				<reportElement key="staticText-1" mode="Transparent" x="0" y="18" width="552" height="22" forecolor="#000000" backcolor="#FFFFFF" uuid="f52f87be-4767-488a-80c3-9b229c72e971"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
					<font fontName="Open Sans" size="16" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Customer Address List]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-6" mode="Transparent" x="0" y="40" width="552" height="14" forecolor="#000000" backcolor="#FFFFFF" uuid="ed25113f-31f0-42d2-bbb5-b61646bb46e6"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Bottom" rotation="None">
					<font fontName="Open Sans" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{ckShowGroups}.equals("1") ?
    "With Groups" :
    ""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-7" x="0" y="0" width="552" height="18" uuid="420f7f48-e235-4718-a50b-69b0fe93f33b"/>
				<textElement textAlignment="Center">
					<font fontName="Open Sans" size="13" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{COMPANY}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-8" x="0" y="54" width="552" height="10" uuid="f7f82ebe-0b14-4fba-ad1b-ca6abadce743"/>
				<textElement>
					<font fontName="Open Sans"/>
				</textElement>
				<textFieldExpression><![CDATA[" "]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Prevent"/>
	</columnHeader>
	<detail>
		<band height="78" splitType="Prevent">
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true" hyperlinkType="Reference">
				<reportElement key="textField-2" mode="Opaque" x="0" y="1" width="185" height="14" forecolor="#000099" backcolor="#E0E0FF" uuid="0237a7c3-3fa9-47e2-a9b1-1af8c0277779"/>
				<box leftPadding="6">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None">
					<font fontName="Open Sans" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PARENTID} != null ?
    ((com.evnt.eve.modules.ReportHelperModule) $P{module}).getCustomerParentName($F{PARENTID}) + ":" + $F{NAME} :
    $F{NAME}]]></textFieldExpression>
				<anchorNameExpression><![CDATA["CustomerName"]]></anchorNameExpression>
				<hyperlinkReferenceExpression><![CDATA[$F{CUSTOMERNAME}]]></hyperlinkReferenceExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-1" positionType="Float" mode="Transparent" x="0" y="15" width="185" height="42" forecolor="#000000" backcolor="#FFFFFF" uuid="a9154ffc-c689-401b-9f6b-9d643e477840"/>
				<box leftPadding="8">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Open Sans" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[(($F{ADDRESS} == null) ? "" : $F{ADDRESS} + "\n" )+
(($F{CITY} == null) ? "" : $F{CITY} + ", ") +
    (($F{STATEABBR} == null) ? "" : $F{STATEABBR} + " ") +
    (($F{ZIP} == null) ? "" : $F{ZIP}) +
($P{ckShowCountry}.equals("0") ? "" : "\n" + $F{COUNTRYNAME})]]></textFieldExpression>
			</textField>
			<line>
				<reportElement key="line-3" positionType="Float" mode="Opaque" x="1" y="77" width="184" height="1" forecolor="#000000" backcolor="#FFFFFF" uuid="453aa1b7-4264-4411-a1e7-b5604e28e2f1"/>
				<graphicElement fill="Solid">
					<pen lineWidth="0.25" lineStyle="Solid"/>
				</graphicElement>
			</line>
			<subreport isUsingCache="true">
				<reportElement key="subreport-4" positionType="Float" mode="Opaque" x="3" y="58" width="182" height="13" forecolor="#000000" backcolor="#FFFFFF" uuid="0664733d-7126-4178-b7e7-952c610b915d"/>
				<subreportParameter name="cbContactType">
					<subreportParameterExpression><![CDATA[$P{cbContactType}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="customerID">
					<subreportParameterExpression><![CDATA[$F{ACCOUNTID}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{path} + "subCustAdsList.jasper"]]></subreportExpression>
			</subreport>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-5" positionType="Float" x="0" y="72" width="185" height="4" uuid="d5ac1606-278a-41ce-89f9-db8a7317f28a"/>
				<textElement>
					<font fontName="Open Sans" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[" "]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Prevent"/>
	</columnFooter>
	<pageFooter>
		<band height="20" splitType="Prevent">
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="textField" mode="Transparent" x="321" y="5" width="183" height="15" forecolor="#000000" backcolor="#FFFFFF" uuid="0337d2e7-ab54-4d83-8123-80990cbb586b"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Bottom" rotation="None">
					<font fontName="Open Sans" size="9"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER} + " of "]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="true">
				<reportElement key="textField" mode="Transparent" x="504" y="5" width="48" height="15" forecolor="#000000" backcolor="#FFFFFF" uuid="b65166c4-9906-4d20-9213-ae67861c37ab"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Bottom" rotation="None">
					<font fontName="Open Sans" size="9"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["" + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="textField" mode="Transparent" x="0" y="5" width="321" height="15" forecolor="#000000" backcolor="#FFFFFF" uuid="8990b34d-9d91-4b31-b19b-e26ede76fde9"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Bottom" rotation="None">
					<font fontName="Open Sans" size="9"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[(DateFormat.getDateTimeInstance(DateFormat.LONG,DateFormat.LONG)).format(new Date())]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band splitType="Prevent"/>
	</summary>
</jasperReport>
